:stylus
  .spinner
    padding: 8px
    position: relative

  .text-container
    overflow: hidden
    text-align: left
    whitespace: nowrap
    text-overflow: ellipsis
    margin-right: 16px

  .hidebutton
    margin-right: 8px

  .status-icon
    position: absolute
    top: 50%
    left: 50%



div.container(fxFlex="grow", fxLayout="row", fxLayoutAlign="start center", fxLayoutGap="8px")
  div.spinner(fxFlex="noshrink")
    nz-progress(type="circle", radius="20", [source]="progress", [color]="spinnerColor")
    i.nz-icon.status-icon(*ngIf="state==='success'" bind-color="spinnerColor" class=icon("mdi/check-outline", 20) style="margin: -10px 0 0 -10px")
    i.nz-icon.status-icon(*ngIf="state==='failure'" bind-color="spinnerColor" class=icon("mdi/close-outline", 20) style="margin: -11px 0 0 -10px")

  div.text-container(fxFlex="grow", *ngIf="infoText") {{ infoText }}

  button.nz-button.hidebutton(*ngIf="state === 'failure'", on-tap="layerRef.hide()", color="light-common", variant="icon", fxFlex="noshrink")
    i.nz-icon(class=icon("mdi/close"))
